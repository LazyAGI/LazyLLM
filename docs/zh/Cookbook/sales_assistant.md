# ä¸Šä¸‹æ–‡æ„ŸçŸ¥ AI é”€å”®åŠ©æ‰‹

æœ¬ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ LazyLLM å¿«é€Ÿæ„å»ºä¸€ä¸ªå…·å¤‡é”€å”®å¯¹è¯ç†è§£ä¸é˜¶æ®µæ„ŸçŸ¥èƒ½åŠ›çš„æ™ºèƒ½é”€å”®åŠ©æ‰‹ï¼ˆSales Assistantï¼‰ã€‚

è¯¥åŠ©æ‰‹èƒ½å¤Ÿæ ¹æ®å¯¹è¯ä¸Šä¸‹æ–‡è‡ªåŠ¨åˆ¤æ–­å½“å‰é”€å”®é˜¶æ®µï¼Œå¹¶ç”Ÿæˆç¬¦åˆè¯­å¢ƒçš„ä¸“ä¸šé”€å”®å›å¤ã€‚

!!! abstract "é€šè¿‡æœ¬èŠ‚ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•æ„å»ºä¸€ä¸ªä¸Šä¸‹æ–‡æ„ŸçŸ¥å‹é”€å”®åŠ©æ‰‹ï¼ŒåŒ…æ‹¬ä»¥ä¸‹è¦ç‚¹ï¼š"

    - å¦‚ä½•ä½¿ç”¨ [OnlineChatModule][lazyllm.module.OnlineChatModule] æ„å»ºé”€å”®å¯¹è¯çš„æ ¸å¿ƒè¯­è¨€ç†è§£ä¸ç”Ÿæˆæ¨¡å—ã€‚
    - å¦‚ä½•å®ç° `SalesStageAnalyzer` è‡ªåŠ¨è¯†åˆ«é”€å”®å¯¹è¯é˜¶æ®µï¼Œå¦‚â€œä»‹ç»â€â€œéœ€æ±‚åˆ†æâ€â€œå¼‚è®®å¤„ç†â€ç­‰ã€‚
    - å¦‚ä½•å®ç° `SalesConversationAgent` æ ¹æ®é˜¶æ®µä¸å†å²ä¸Šä¸‹æ–‡ç”Ÿæˆè‡ªç„¶çš„é”€å”®è¯æœ¯ã€‚
    - å¦‚ä½•ä½¿ç”¨ `SalesGPT` ä½œä¸ºä¸»æ§åˆ¶å™¨ï¼Œå®ç°â€œé˜¶æ®µåˆ†æ â†’ å›å¤ç”Ÿæˆ â†’ å¯¹è¯æ›´æ–°â€çš„å®Œæ•´é€»è¾‘å¾ªç¯ã€‚
    - å¦‚ä½•é€šè¿‡ä¸»å‡½æ•° `main()` å¯åŠ¨ä¸€ä¸ªäº¤äº’å¼é”€å”®å¯¹è¯æ¼”ç¤ºï¼Œå®ç°ç«¯åˆ°ç«¯çš„é”€å”®æ¨¡æ‹Ÿä½“éªŒã€‚

## è®¾è®¡æ€è·¯

è¦æ„å»ºä¸€ä¸ªèƒ½å¤Ÿæ ¹æ®ä¸Šä¸‹æ–‡åŠ¨æ€è°ƒæ•´è¯æœ¯çš„æ™ºèƒ½é”€å”®åŠ©æ‰‹ï¼Œæˆ‘ä»¬éœ€è¦è®©ç³»ç»Ÿæ—¢â€œæ‡‚é”€å”®é€»è¾‘â€ï¼Œåˆâ€œèƒ½ç†è§£å¯¹è¯è¯­å¢ƒâ€ã€‚

å› æ­¤ï¼Œæ•´ä¸ª SalesGPT çš„è®¾è®¡å›´ç»•â€œå¯¹è¯é˜¶æ®µè¯†åˆ« + æ™ºèƒ½é”€å”®åº”ç­”â€ä¸¤å¤§æ ¸å¿ƒç›®æ ‡å±•å¼€ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ LazyLLM çš„ `OnlineChatModule` ä½œä¸ºæ ¸å¿ƒè¯­è¨€æ¨¡å‹ï¼Œç”¨äºç†è§£å¯¹è¯å†…å®¹å¹¶ç”Ÿæˆè‡ªç„¶ã€ä¸“ä¸šçš„é”€å”®å›åº”ã€‚

ç„¶åï¼Œå°†ç³»ç»Ÿæ‹†åˆ†ä¸ºä¸¤ä¸ªå…³é”®æ¨¡å—ï¼š

- `SalesStageAnalyzer`ï¼šåˆ†æå½“å‰å¯¹è¯å¤„äºé”€å”®æµç¨‹çš„å“ªä¸ªé˜¶æ®µï¼ˆå¦‚ä»‹ç»ã€éœ€æ±‚æŒ–æ˜ã€å¼‚è®®å¤„ç†ç­‰ï¼‰ï¼›
- `SalesConversationAgent`ï¼šæ ¹æ®é˜¶æ®µä¿¡æ¯å’Œå¯¹è¯å†å²ç”Ÿæˆç›¸åº”å›å¤ï¼Œå¹¶åœ¨å¥æœ«æ·»åŠ  `<END_OF_TURN>` ç”¨äºå›åˆæ§åˆ¶ã€‚

æœ€åï¼Œé€šè¿‡ä¸»æ§åˆ¶å™¨ `SalesGPT` å°†ä¸¤è€…ç»“åˆï¼šå®ƒè´Ÿè´£ç»´æŠ¤å¯¹è¯ä¸Šä¸‹æ–‡ã€åˆ¤æ–­é˜¶æ®µã€ç”Ÿæˆå›å¤ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„â€œåˆ†æ â†’ ç”Ÿæˆ â†’ æ›´æ–°â€çš„å¾ªç¯æµç¨‹ã€‚

æ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š

![sales_assistant](../assets/sales_assistant.png)

## ç¯å¢ƒå‡†å¤‡

### å®‰è£…ä¾èµ–

åœ¨ä½¿ç”¨å‰ï¼Œè¯·å…ˆæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…æ‰€éœ€åº“ï¼š

```bash
pip install lazyllm
```

### å¯¼å…¥ä¾èµ–åŒ…

```python
from lazyllm import OnlineChatModule
from lazyllm.module import ModuleBase
from lazyllm.components import ChatPrompter
```

### ç¯å¢ƒå˜é‡

åœ¨æµç¨‹ä¸­ä¼šä½¿ç”¨åˆ°åœ¨çº¿å¤§æ¨¡å‹ï¼Œæ‚¨éœ€è¦è®¾ç½® API å¯†é’¥ï¼ˆä»¥ Qwen ä¸ºä¾‹ï¼‰ï¼š

```bash
export LAZYLLM_QWEN_API_KEY = "sk-******"
```

> â— æ³¨æ„ï¼šå¹³å°çš„ API_KEY ç”³è¯·æ–¹å¼å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](docs.lazyllm.ai/)ã€‚

## ä»£ç å®ç°

### é”€å”®é˜¶æ®µåˆ†æå™¨

åœ¨é”€å”®å¯¹è¯ä¸­ï¼Œä¸åŒçš„é˜¶æ®µä»£è¡¨ç€é”€å”®äººå‘˜ä¸å®¢æˆ·å…³ç³»çš„ä¸åŒå‘å±•ç¨‹åº¦ã€‚

ä¾‹å¦‚ï¼Œå¼€åœºä»‹ç»é˜¶æ®µæ³¨é‡å»ºç«‹ä¿¡ä»»ï¼Œè€ŒåæœŸçš„â€œå¼‚è®®å¤„ç†â€æˆ–â€œæˆäº¤â€é˜¶æ®µåˆ™æ›´å…³æ³¨è¯´æœä¸è¡ŒåŠ¨å¼•å¯¼ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ¨¡å—æ¥è‡ªåŠ¨è¯†åˆ«å½“å‰å¯¹è¯æ‰€å¤„çš„é”€å”®é˜¶æ®µï¼Œä»è€Œè®©ç³»ç»Ÿåœ¨åˆé€‚çš„æ—¶æœºè¾“å‡ºæœ€ç¬¦åˆä¸Šä¸‹æ–‡çš„å›åº”ã€‚

ä¸‹é¢çš„ `SalesStageAnalyzer` ç±»æ­£æ˜¯ä¸ºæ­¤è®¾è®¡çš„ã€‚

```python
class SalesStageAnalyzer(ModuleBase):
    '''é”€å”®å¯¹è¯é˜¶æ®µåˆ†æå™¨ï¼Œç”¨äºè¯†åˆ«å½“å‰å¯¹è¯åº”è¯¥å¤„äºå“ªä¸ªé”€å”®é˜¶æ®µ'''

    def __init__(self, llm: ModuleBase, verbose: bool = True):
        super().__init__()
        self.verbose = verbose

        # é”€å”®å¯¹è¯é˜¶æ®µå®šä¹‰
        self.conversation_stages = {
            '1': 'ä»‹ç»é˜¶æ®µï¼šå¼€å§‹å¯¹è¯ï¼Œä»‹ç»è‡ªå·±å’Œå…¬å¸ã€‚ä¿æŒç¤¼è²Œå’Œä¸“ä¸šçš„è¯­è°ƒã€‚',
            '2': 'èµ„æ ¼ç¡®è®¤ï¼šç¡®è®¤æ½œåœ¨å®¢æˆ·æ˜¯å¦æ˜¯åˆé€‚çš„äººé€‰ï¼Œç¡®ä¿ä»–ä»¬æœ‰è´­ä¹°å†³ç­–æƒã€‚',
            '3': 'ä»·å€¼ä¸»å¼ ï¼šç®€è¦è§£é‡Šäº§å“/æœåŠ¡å¦‚ä½•ä½¿æ½œåœ¨å®¢æˆ·å—ç›Šï¼Œçªå‡ºç‹¬ç‰¹å–ç‚¹ã€‚',
            '4': 'éœ€æ±‚åˆ†æï¼šé€šè¿‡å¼€æ”¾å¼é—®é¢˜äº†è§£æ½œåœ¨å®¢æˆ·çš„éœ€æ±‚å’Œç—›ç‚¹ã€‚',
            '5': 'è§£å†³æ–¹æ¡ˆå±•ç¤ºï¼šåŸºäºæ½œåœ¨å®¢æˆ·çš„éœ€æ±‚ï¼Œå±•ç¤ºäº§å“/æœåŠ¡ä½œä¸ºè§£å†³æ–¹æ¡ˆã€‚',
            '6': 'å¼‚è®®å¤„ç†ï¼šå¤„ç†æ½œåœ¨å®¢æˆ·å¯¹äº§å“/æœåŠ¡çš„ä»»ä½•å¼‚è®®ï¼Œæä¾›è¯æ®æ”¯æŒã€‚',
            '7': 'æˆäº¤ï¼šé€šè¿‡æè®®ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ¥è¦æ±‚é”€å”®ï¼Œå¦‚æ¼”ç¤ºã€è¯•ç”¨æˆ–ä¸å†³ç­–è€…ä¼šé¢ã€‚'
        }

        # é˜¶æ®µåˆ†ææç¤ºæ¨¡æ¿
        stage_analyzer_prompt = '''ä½ æ˜¯ä¸€ä¸ªé”€å”®åŠ©æ‰‹ï¼Œå¸®åŠ©é”€å”®ä»£ç†ç¡®å®šé”€å”®å¯¹è¯åº”è¯¥è¿›å…¥å“ªä¸ªé˜¶æ®µã€‚

        ä»¥ä¸‹æ˜¯å¯¹è¯å†å²ï¼š
        ===
        {conversation_history}
        ===

        ç°åœ¨æ ¹æ®å¯¹è¯å†å²ç¡®å®šé”€å”®ä»£ç†åœ¨é”€å”®å¯¹è¯ä¸­çš„ä¸‹ä¸€ä¸ªå³æ—¶å¯¹è¯é˜¶æ®µï¼Œä»ä»¥ä¸‹é€‰é¡¹ä¸­é€‰æ‹©ï¼š
        1. ä»‹ç»é˜¶æ®µï¼šå¼€å§‹å¯¹è¯ï¼Œä»‹ç»è‡ªå·±å’Œå…¬å¸ã€‚ä¿æŒç¤¼è²Œå’Œä¸“ä¸šçš„è¯­è°ƒã€‚
        2. èµ„æ ¼ç¡®è®¤ï¼šç¡®è®¤æ½œåœ¨å®¢æˆ·æ˜¯å¦æ˜¯åˆé€‚çš„äººé€‰ï¼Œç¡®ä¿ä»–ä»¬æœ‰è´­ä¹°å†³ç­–æƒã€‚
        3. ä»·å€¼ä¸»å¼ ï¼šç®€è¦è§£é‡Šäº§å“/æœåŠ¡å¦‚ä½•ä½¿æ½œåœ¨å®¢æˆ·å—ç›Šï¼Œçªå‡ºç‹¬ç‰¹å–ç‚¹ã€‚
        4. éœ€æ±‚åˆ†æï¼šé€šè¿‡å¼€æ”¾å¼é—®é¢˜äº†è§£æ½œåœ¨å®¢æˆ·çš„éœ€æ±‚å’Œç—›ç‚¹ã€‚
        5. è§£å†³æ–¹æ¡ˆå±•ç¤ºï¼šåŸºäºæ½œåœ¨å®¢æˆ·çš„éœ€æ±‚ï¼Œå±•ç¤ºäº§å“/æœåŠ¡ä½œä¸ºè§£å†³æ–¹æ¡ˆã€‚
        6. å¼‚è®®å¤„ç†ï¼šå¤„ç†æ½œåœ¨å®¢æˆ·å¯¹äº§å“/æœåŠ¡çš„ä»»ä½•å¼‚è®®ï¼Œæä¾›è¯æ®æ”¯æŒã€‚
        7. æˆäº¤ï¼šé€šè¿‡æè®®ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ¥è¦æ±‚é”€å”®ï¼Œå¦‚æ¼”ç¤ºã€è¯•ç”¨æˆ–ä¸å†³ç­–è€…ä¼šé¢ã€‚

        åªå›ç­”1åˆ°7ä¹‹é—´çš„æ•°å­—ï¼Œè¡¨ç¤ºå¯¹è¯åº”è¯¥ç»§ç»­çš„é˜¶æ®µã€‚ç­”æ¡ˆå¿…é¡»åªæ˜¯ä¸€ä¸ªæ•°å­—ï¼Œä¸è¦æ·»åŠ ä»»ä½•å…¶ä»–å†…å®¹ã€‚
        å¦‚æœæ²¡æœ‰å¯¹è¯å†å²ï¼Œè¾“å‡º1ã€‚
        ä¸è¦å›ç­”å…¶ä»–ä»»ä½•å†…å®¹ã€‚'''

        self.prompter = ChatPrompter(instruction=stage_analyzer_prompt)
        self.llm = llm.share(prompt=self.prompter).used_by(self._module_id)

    def forward(self, conversation_history: str) -> str:
        '''åˆ†æå¯¹è¯å†å²å¹¶è¿”å›å½“å‰åº”è¯¥å¤„äºçš„é”€å”®é˜¶æ®µ'''
        response = self.llm({'conversation_history': conversation_history})
        stage_id = ''.join(filter(str.isdigit, response.strip()))
        if not stage_id or int(stage_id) not in range(1, 8):
            stage_id = '1'  # é»˜è®¤è¿”å›ä»‹ç»é˜¶æ®µ

        if self.verbose:
            print(f'å¯¹è¯é˜¶æ®µåˆ†æç»“æœ: {stage_id} - {self.conversation_stages[stage_id]}')

        return stage_id
```

**ä¸Šä¸‹æ–‡ç¼“å­˜ / ä¼šè¯éš”ç¦»**

LazyLLM å†…éƒ¨æ”¯æŒâ€œæ¨¡å—çº§ä¸Šä¸‹æ–‡ç¼“å­˜â€æœºåˆ¶ã€‚

é€šè¿‡ä½¿ç”¨ `.used_by()` æ–¹æ³•ï¼Œç³»ç»Ÿä¼šå°†åŒä¸€ä¸ª LLM å®ä¾‹åŒºåˆ†ä¸ºä¸åŒçš„â€œè°ƒç”¨è€…ï¼ˆcallerï¼‰â€ï¼š

- ä¸åŒæ¨¡å—å¯ä»¥ç‹¬ç«‹ç¼“å­˜å„è‡ªçš„ promptâ€“response ç»“æœï¼›
- ç³»ç»Ÿå¯æ ¹æ®æ¨¡å— ID ç»´æŠ¤ç‹¬ç«‹çš„ä¼šè¯çŠ¶æ€ï¼Œå®ç°ä¸Šä¸‹æ–‡éš”ç¦»ã€‚

> ğŸ’¡ æ‹“å±•ï¼š`ModuleBase`  æ˜¯ LazyLLM æ¡†æ¶çš„æ ¸å¿ƒåŸºç±»ï¼Œæ‰€æœ‰æ¨¡å—ï¼ˆå¦‚å¯¹è¯ç”Ÿæˆå™¨ã€é˜¶æ®µåˆ†æå™¨ã€çŸ¥è¯†æ£€ç´¢å™¨ç­‰ï¼‰éƒ½åŸºäºå®ƒæ„å»ºã€‚
> å®ƒå®šä¹‰äº†ç»Ÿä¸€çš„æ¥å£å’Œæ ¸å¿ƒèƒ½åŠ›ï¼ŒæŠ½è±¡äº†è®­ç»ƒã€éƒ¨ç½²ã€æ¨ç†ä¸è¯„ä¼°çš„é€šç”¨é€»è¾‘ï¼Œå¹¶æä¾›æ¨¡å—çº§çš„ç®¡ç†æœºåˆ¶ã€‚
> æ›´å¤šè¯¦æƒ…è§[å®˜æ–¹ API æ–‡æ¡£](https://docs.lazyllm.ai/en/stable/API%20Reference/module/#lazyllm.module.ModuleBase)ã€‚

### é”€å”®å¯¹è¯ä»£ç†

åœ¨ç¡®å®šäº†é”€å”®é˜¶æ®µä¹‹åï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªâ€œæ™ºèƒ½é”€å”®ä»£ç†â€æ¥ç”Ÿæˆä¸è¯¥é˜¶æ®µåŒ¹é…çš„è‡ªç„¶è¯­è¨€å›å¤ã€‚
è¿™ä¸ªæ¨¡å—çš„ç›®æ ‡æ˜¯è®© AI æ¨¡æ‹ŸçœŸå®çš„é”€å”®äººå‘˜ï¼Œæ ¹æ®ä¸Šä¸‹æ–‡å’Œé˜¶æ®µè‡ªåŠ¨ç”Ÿæˆä¸‹ä¸€å¥åˆç†çš„é”€å”®è¯æœ¯ã€‚

```python
class SalesConversationAgent(ModuleBase):
    '''é”€å”®å¯¹è¯ä»£ç†ï¼Œæ ¹æ®å½“å‰é˜¶æ®µç”Ÿæˆç›¸åº”çš„å›å¤'''

    def __init__(self, llm: ModuleBase, verbose: bool = True):
        super().__init__()
        self.verbose = verbose

        # é”€å”®å¯¹è¯æç¤ºæ¨¡æ¿
        sales_conversation_prompt = '''ä½ å«{salesperson_name}ï¼Œæ˜¯ä¸€å{salesperson_role}ã€‚
        ä½ åœ¨{salesperson_name}å…¬å¸å·¥ä½œã€‚{company_name}çš„ä¸šåŠ¡æ˜¯ï¼š{company_business}
        å…¬å¸ä»·å€¼è§‚æ˜¯ï¼š{company_values}
        ä½ è”ç³»æ½œåœ¨å®¢æˆ·çš„ç›®çš„æ˜¯ï¼š{conversation_purpose}
        ä½ è”ç³»æ½œåœ¨å®¢æˆ·çš„æ–¹å¼æ˜¯ï¼š{conversation_type}

        å¦‚æœè¢«é—®åŠä»å“ªé‡Œè·å¾—ç”¨æˆ·çš„è”ç³»ä¿¡æ¯ï¼Œè¯·è¯´ä»å…¬å¼€è®°å½•ä¸­è·å¾—ã€‚
        ä¿æŒå›å¤ç®€çŸ­ä»¥ä¿æŒç”¨æˆ·çš„æ³¨æ„åŠ›ã€‚ä¸è¦äº§ç”Ÿåˆ—è¡¨ï¼Œåªå›ç­”é—®é¢˜ã€‚
        ä½ å¿…é¡»æ ¹æ®ä¹‹å‰çš„å¯¹è¯å†å²å’Œå½“å‰å¯¹è¯é˜¶æ®µæ¥å›åº”ã€‚
        æ¯æ¬¡åªç”Ÿæˆä¸€ä¸ªå›å¤ï¼ç”Ÿæˆå®Œæˆåï¼Œä»¥'<END_OF_TURN>'ç»“å°¾ï¼Œç»™ç”¨æˆ·å›åº”çš„æœºä¼šã€‚

        å½“å‰å¯¹è¯é˜¶æ®µï¼š{conversation_stage}
        å¯¹è¯å†å²ï¼š
        {conversation_history}
        {salesperson_name}ï¼š'''

        self.prompter = ChatPrompter(instruction=sales_conversation_prompt)
        self.llm = llm.share(prompt=self.prompter).used_by(self._module_id)

    def forward(self, salesperson_name: str, salesperson_role: str, company_name: str,
                company_business: str, company_values: str, conversation_purpose: str,
                conversation_type: str, conversation_stage: str, conversation_history: str) -> str:
        
        # ç”Ÿæˆé”€å”®å¯¹è¯å›å¤
        response = self.llm({
            'salesperson_name': salesperson_name,
            'salesperson_role': salesperson_role,
            'company_name': company_name,
            'company_business': company_business,
            'company_values': company_values,
            'conversation_purpose': conversation_purpose,
            'conversation_type': conversation_type,
            'conversation_stage': conversation_stage,
            'conversation_history': conversation_history
        })

        display_response = response.replace('<END_OF_TURN>', '').strip()
        if self.verbose:
            print(f'{salesperson_name}: {display_response}')

        return response
```

é”€å”®å¯¹è¯ä»£ç† `SalesConversationAgent` çš„ä½œç”¨æ˜¯ï¼š

- æ¥æ”¶å½“å‰é”€å”®é˜¶æ®µï¼ˆå¦‚â€œéœ€æ±‚åˆ†æâ€æˆ–â€œæˆäº¤â€ï¼‰ï¼›
- æ ¹æ®é”€å”®äººå‘˜è§’è‰²ã€å…¬å¸èƒŒæ™¯ã€å¯¹è¯ç›®çš„ç­‰ä¿¡æ¯ï¼›
- è‡ªåŠ¨ç”Ÿæˆä¸€æ¡è‡ªç„¶ã€ç®€çŸ­ä¸”ç¬¦åˆé”€å”®é€»è¾‘çš„å›å¤ã€‚

ä¸é˜¶æ®µåˆ†æå™¨ç›¸æ¯”ï¼Œè¿™ä¸ªæ¨¡å—å…³æ³¨ â€œæ€ä¹ˆè¯´â€ï¼Œè€Œä¸æ˜¯ â€œåˆ°å“ªä¸€æ­¥â€ã€‚
ä¸¤è€…é…åˆä½¿ç”¨ï¼Œå¯ä»¥å½¢æˆä¸€ä¸ªå®Œæ•´çš„é”€å”®å¯¹è¯é—­ç¯ã€‚

> ğŸ’¡ æç¤ºï¼šç»“åˆä¸Šä¸€èŠ‚çš„â€œé”€å”®é˜¶æ®µåˆ†æå™¨â€ï¼Œå¯ä»¥è®©ç³»ç»Ÿå®ç°è‡ªåŠ¨è¯†åˆ«é˜¶æ®µ + æ™ºèƒ½ç”Ÿæˆå›å¤çš„å®Œæ•´é”€å”®æ¨¡æ‹Ÿæµç¨‹ã€‚

### ä¸»æ§åˆ¶å™¨

åœ¨å‰ä¸¤èŠ‚ä¸­ï¼Œæˆ‘ä»¬åˆ†åˆ«å®ç°äº†ï¼š

- é˜¶æ®µåˆ†æå™¨ï¼ˆ`SalesStageAnalyzer`ï¼‰ï¼šåˆ¤æ–­å½“å‰é”€å”®å¯¹è¯å¤„äºå“ªä¸ªé˜¶æ®µï¼›
- é”€å”®å¯¹è¯ä»£ç†ï¼ˆ`SalesConversationAgent`ï¼‰ï¼šæ ¹æ®é˜¶æ®µç”Ÿæˆç¬¦åˆè¯­å¢ƒçš„é”€å”®å›å¤ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å®ƒä»¬æ•´åˆåˆ°ä¸€ä¸ªç»Ÿä¸€çš„ä¸»æ§åˆ¶å™¨ä¸­ï¼Œæ„å»ºä¸€ä¸ªä¸Šä¸‹æ–‡æ„ŸçŸ¥ã€å¯å¾ªç¯äº’åŠ¨çš„é”€å”® AI åŠ©æ‰‹ã€‚

```python
class SalesGPT(ModuleBase):
    '''ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„AIé”€å”®åŠ©æ‰‹ä¸»æ§åˆ¶å™¨'''

    def __init__(
        self,
        llm: ModuleBase,
        salesperson_name: str = 'å¼ é”€å”®',
        salesperson_role: str = 'ä¸šåŠ¡å‘å±•ä»£è¡¨',
        company_name: str = 'ä¼˜è´¨ç¡çœ ',
        company_business: str = 'ä¼˜è´¨ç¡çœ æ˜¯ä¸€å®¶é«˜ç«¯åºŠå«å…¬å¸...',
        company_values: str = 'ä¼˜è´¨ç¡çœ çš„ä½¿å‘½æ˜¯é€šè¿‡æä¾›æœ€ä½³çš„ç¡çœ è§£å†³æ–¹æ¡ˆ...',
        conversation_purpose: str = 'äº†è§£ä»–ä»¬æ˜¯å¦å¸Œæœ›é€šè¿‡è´­ä¹°é«˜ç«¯åºŠå«æ¥æ”¹å–„ç¡çœ è´¨é‡ã€‚',
        conversation_type: str = 'ç”µè¯',
        verbose: bool = True
    ):
        super().__init__()

        # è®¾ç½®é”€å”®äººå‘˜ä¿¡æ¯
        self.salesperson_name = salesperson_name
        self.salesperson_role = salesperson_role
        self.company_name = company_name
        self.company_business = company_business
        self.company_values = company_values
        self.conversation_purpose = conversation_purpose
        self.conversation_type = conversation_type
        self.verbose = verbose

        # åˆå§‹åŒ–çŠ¶æ€
        self.conversation_history = []
        self.current_conversation_stage = '1'

        # åˆå§‹åŒ–ç»„ä»¶
        self.stage_analyzer = SalesStageAnalyzer(llm, verbose=verbose)
        self.sales_conversation_agent = SalesConversationAgent(llm, verbose=verbose)

        # å¯¹è¯é˜¶æ®µå®šä¹‰
        self.conversation_stages = {
            '1': 'ä»‹ç»é˜¶æ®µï¼šå¼€å§‹å¯¹è¯ï¼Œä»‹ç»è‡ªå·±å’Œå…¬å¸ã€‚ä¿æŒç¤¼è²Œå’Œä¸“ä¸šçš„è¯­è°ƒã€‚',
            '2': 'èµ„æ ¼ç¡®è®¤ï¼šç¡®è®¤æ½œåœ¨å®¢æˆ·æ˜¯å¦æ˜¯åˆé€‚çš„äººé€‰ï¼Œç¡®ä¿ä»–ä»¬æœ‰è´­ä¹°å†³ç­–æƒã€‚',
            '3': 'ä»·å€¼ä¸»å¼ ï¼šç®€è¦è§£é‡Šäº§å“/æœåŠ¡å¦‚ä½•ä½¿æ½œåœ¨å®¢æˆ·å—ç›Šï¼Œçªå‡ºç‹¬ç‰¹å–ç‚¹ã€‚',
            '4': 'éœ€æ±‚åˆ†æï¼šé€šè¿‡å¼€æ”¾å¼é—®é¢˜äº†è§£æ½œåœ¨å®¢æˆ·çš„éœ€æ±‚å’Œç—›ç‚¹ã€‚',
            '5': 'è§£å†³æ–¹æ¡ˆå±•ç¤ºï¼šåŸºäºæ½œåœ¨å®¢æˆ·çš„éœ€æ±‚ï¼Œå±•ç¤ºäº§å“/æœåŠ¡ä½œä¸ºè§£å†³æ–¹æ¡ˆã€‚',
            '6': 'å¼‚è®®å¤„ç†ï¼šå¤„ç†æ½œåœ¨å®¢æˆ·å¯¹äº§å“/æœåŠ¡çš„ä»»ä½•å¼‚è®®ï¼Œæä¾›è¯æ®æ”¯æŒã€‚',
            '7': 'æˆäº¤ï¼šé€šè¿‡æè®®ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ¥è¦æ±‚é”€å”®ï¼Œå¦‚æ¼”ç¤ºã€è¯•ç”¨æˆ–ä¸å†³ç­–è€…ä¼šé¢ã€‚'
        }

    def seed_agent(self):
        '''åˆå§‹åŒ–é”€å”®ä»£ç†'''
        if self.verbose:
            print(f'{self.salesperson_name}: (ç­‰å¾…ç”¨æˆ·è¾“å…¥...)')

    def determine_conversation_stage(self):
        '''ç¡®å®šå½“å‰å¯¹è¯åº”è¯¥å¤„äºçš„é˜¶æ®µ'''
        conversation_text = '\n'.join(self.conversation_history)
        self.current_conversation_stage = self.stage_analyzer(conversation_text)
        if self.verbose:
            print(f'å½“å‰å¯¹è¯é˜¶æ®µ: {self.conversation_stages[self.current_conversation_stage]}')

    def human_step(self, human_input: str):
        '''å¤„ç†äººç±»è¾“å…¥'''
        human_input = human_input + '<END_OF_TURN>'
        self.conversation_history.append(human_input)
        if self.verbose:
            print(f'ç”¨æˆ·: {human_input.replace('<END_OF_TURN>', '')}')

    def step(self):
        '''æ‰§è¡Œé”€å”®ä»£ç†çš„ä¸€æ­¥å¯¹è¯'''
        conversation_text = '\n'.join(self.conversation_history)

        ai_message = self.sales_conversation_agent(
            salesperson_name=self.salesperson_name,
            salesperson_role=self.salesperson_role,
            company_name=self.company_name,
            company_business=self.company_business,
            company_values=self.company_values,
            conversation_purpose=self.conversation_purpose,
            conversation_type=self.conversation_type,
            conversation_stage=self.conversation_stages[self.current_conversation_stage],
            conversation_history=conversation_text
        )

        self.conversation_history.append(ai_message)
        return ai_message.replace('<END_OF_TURN>', '')
```

`SalesGPT` è´Ÿè´£ç®¡ç†é”€å”®å¯¹è¯çš„çŠ¶æ€ä¸æµç¨‹æ§åˆ¶ï¼Œæ ¸å¿ƒèŒè´£åŒ…æ‹¬ï¼š

- ç®¡ç†å¯¹è¯å†å²ï¼›
- åŠ¨æ€åˆ¤æ–­é”€å”®é˜¶æ®µï¼›
- è®© AI åœ¨æ¯ä¸ªé˜¶æ®µç”Ÿæˆåˆé€‚çš„é”€å”®å›å¤ï¼›
- å®ç°äººç±»è¾“å…¥ä¸æ¨¡å‹å“åº”çš„äº¤æ›¿äº’åŠ¨ã€‚

æ¢å¥è¯è¯´ï¼Œå®ƒå°±åƒä¸€ä¸ªâ€œé”€å”®å¯¼æ¼”â€ï¼Œè´Ÿè´£ï¼š
â€œè®©æ¯ä¸ªé”€å”®é˜¶æ®µè‡ªç„¶è¡”æ¥ï¼Œè®© AI å§‹ç»ˆè¯´å¯¹çš„è¯ã€‚â€

### ä¸»å‡½æ•°å®ç°

ç°åœ¨å±•ç¤ºå¦‚ä½•é€šè¿‡ä¸»å‡½æ•°è¿è¡Œä¸€ä¸ªå®Œæ•´çš„ `SalesGPT` æ™ºèƒ½é”€å”®åŠ©æ‰‹ã€‚

ä¸»å‡½æ•°ä¸»è¦å®Œæˆä»¥ä¸‹ä»»åŠ¡ï¼š

- åˆ›å»º LLM å®ä¾‹ï¼šåŠ è½½å¯¹è¯æ¨¡å‹ï¼Œç”¨äºç”Ÿæˆé”€å”®è¯æœ¯ä¸æ™ºèƒ½å“åº”ï¼›
- é…ç½®é”€å”®ä»£ç†å‚æ•°ï¼šå®šä¹‰é”€å”®å‘˜èº«ä»½ã€å…¬å¸ä¿¡æ¯å’Œå¯¹è¯ç›®æ ‡ï¼›
- åˆå§‹åŒ–é”€å”®ä»£ç†ï¼šè®©æ¨¡å‹å…·å¤‡åŸºç¡€èƒŒæ™¯çŸ¥è¯†å’Œå¯¹è¯é˜¶æ®µåˆ¤æ–­èƒ½åŠ›ï¼›
- å¯åŠ¨äº¤äº’å¾ªç¯ï¼šæ¨¡æ‹ŸçœŸå®çš„å®¢æˆ·å¯¹è¯è¿‡ç¨‹ã€‚

```python
def main():
    '''ä¸»å‡½æ•°ï¼šæ¼”ç¤ºSalesGPTçš„ä½¿ç”¨'''
    print('=== ä¸Šä¸‹æ–‡æ„ŸçŸ¥AIé”€å”®åŠ©æ‰‹æ¼”ç¤º ===\n')

    # è®¾ç½®LLM
    llm = OnlineChatModule()

    # é…ç½®é”€å”®ä»£ç†
    config = {
        'salesperson_name': 'æé”€å”®',
        'salesperson_role': 'ä¸šåŠ¡å‘å±•ä»£è¡¨',
        'company_name': 'ä¼˜è´¨ç¡çœ ',
        'company_business': 'ä¼˜è´¨ç¡çœ æ˜¯ä¸€å®¶é«˜ç«¯åºŠå«å…¬å¸ï¼Œä¸ºå®¢æˆ·æä¾›æœ€èˆ’é€‚å’Œæ”¯æ’‘æ€§çš„ç¡çœ ä½“éªŒã€‚',
        'company_values': 'ä¼˜è´¨ç¡çœ çš„ä½¿å‘½æ˜¯é€šè¿‡æä¾›æœ€ä½³çš„ç¡çœ è§£å†³æ–¹æ¡ˆæ¥å¸®åŠ©äººä»¬è·å¾—æ›´å¥½çš„ç¡çœ ã€‚',
        'conversation_purpose': 'äº†è§£ä»–ä»¬æ˜¯å¦å¸Œæœ›é€šè¿‡è´­ä¹°é«˜ç«¯åºŠå«æ¥æ”¹å–„ç¡çœ è´¨é‡ã€‚',
        'conversation_type': 'ç”µè¯'
    }

    # åˆ›å»ºé”€å”®ä»£ç†
    sales_agent = SalesGPT(llm, **config)

    # åˆå§‹åŒ–ä»£ç†
    print('åˆå§‹åŒ–é”€å”®ä»£ç†...')
    sales_agent.seed_agent()
    sales_agent.determine_conversation_stage()

    # å¼€å§‹å¯¹è¯å¾ªç¯
    print('\nå¼€å§‹é”€å”®å¯¹è¯...')
    while True:
        sales_agent.step()
        user_input = input('\nè¯·è¾“å…¥æ‚¨çš„å›å¤ (è¾“å…¥ \'quit\' é€€å‡º): ')
        if user_input.lower() == 'quit':
            print('å¯¹è¯ç»“æŸï¼Œæ„Ÿè°¢ä½¿ç”¨ï¼')
            break
        sales_agent.human_step(user_input)
        sales_agent.determine_conversation_stage()

if __name__ == '__main__':
    main()
```

## å®Œæ•´ä»£ç 

å®Œæ•´ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š

<details>
<summary>ç‚¹å‡»å±•å¼€å®Œæ•´ä»£ç </summary>

```python
from lazyllm import OnlineChatModule
from lazyllm.module import ModuleBase
from lazyllm.components import ChatPrompter


class SalesStageAnalyzer(ModuleBase):
    '''é”€å”®å¯¹è¯é˜¶æ®µåˆ†æå™¨ï¼Œç”¨äºè¯†åˆ«å½“å‰å¯¹è¯åº”è¯¥å¤„äºå“ªä¸ªé”€å”®é˜¶æ®µ'''

    def __init__(self, llm: ModuleBase, verbose: bool = True):
        super().__init__()
        self.verbose = verbose

        # é”€å”®å¯¹è¯é˜¶æ®µå®šä¹‰
        self.conversation_stages = {
            '1': 'ä»‹ç»é˜¶æ®µï¼šå¼€å§‹å¯¹è¯ï¼Œä»‹ç»è‡ªå·±å’Œå…¬å¸ã€‚ä¿æŒç¤¼è²Œå’Œä¸“ä¸šçš„è¯­è°ƒã€‚',
            '2': 'èµ„æ ¼ç¡®è®¤ï¼šç¡®è®¤æ½œåœ¨å®¢æˆ·æ˜¯å¦æ˜¯åˆé€‚çš„äººé€‰ï¼Œç¡®ä¿ä»–ä»¬æœ‰è´­ä¹°å†³ç­–æƒã€‚',
            '3': 'ä»·å€¼ä¸»å¼ ï¼šç®€è¦è§£é‡Šäº§å“/æœåŠ¡å¦‚ä½•ä½¿æ½œåœ¨å®¢æˆ·å—ç›Šï¼Œçªå‡ºç‹¬ç‰¹å–ç‚¹ã€‚',
            '4': 'éœ€æ±‚åˆ†æï¼šé€šè¿‡å¼€æ”¾å¼é—®é¢˜äº†è§£æ½œåœ¨å®¢æˆ·çš„éœ€æ±‚å’Œç—›ç‚¹ã€‚',
            '5': 'è§£å†³æ–¹æ¡ˆå±•ç¤ºï¼šåŸºäºæ½œåœ¨å®¢æˆ·çš„éœ€æ±‚ï¼Œå±•ç¤ºäº§å“/æœåŠ¡ä½œä¸ºè§£å†³æ–¹æ¡ˆã€‚',
            '6': 'å¼‚è®®å¤„ç†ï¼šå¤„ç†æ½œåœ¨å®¢æˆ·å¯¹äº§å“/æœåŠ¡çš„ä»»ä½•å¼‚è®®ï¼Œæä¾›è¯æ®æ”¯æŒã€‚',
            '7': 'æˆäº¤ï¼šé€šè¿‡æè®®ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ¥è¦æ±‚é”€å”®ï¼Œå¦‚æ¼”ç¤ºã€è¯•ç”¨æˆ–ä¸å†³ç­–è€…ä¼šé¢ã€‚'
        }

        # é˜¶æ®µåˆ†ææç¤ºæ¨¡æ¿
        stage_analyzer_prompt = '''ä½ æ˜¯ä¸€ä¸ªé”€å”®åŠ©æ‰‹ï¼Œå¸®åŠ©é”€å”®ä»£ç†ç¡®å®šé”€å”®å¯¹è¯åº”è¯¥è¿›å…¥å“ªä¸ªé˜¶æ®µã€‚

        ä»¥ä¸‹æ˜¯å¯¹è¯å†å²ï¼š
        ===
        {conversation_history}
        ===

        ç°åœ¨æ ¹æ®å¯¹è¯å†å²ç¡®å®šé”€å”®ä»£ç†åœ¨é”€å”®å¯¹è¯ä¸­çš„ä¸‹ä¸€ä¸ªå³æ—¶å¯¹è¯é˜¶æ®µï¼Œä»ä»¥ä¸‹é€‰é¡¹ä¸­é€‰æ‹©ï¼š
        1. ä»‹ç»é˜¶æ®µï¼šå¼€å§‹å¯¹è¯ï¼Œä»‹ç»è‡ªå·±å’Œå…¬å¸ã€‚ä¿æŒç¤¼è²Œå’Œä¸“ä¸šçš„è¯­è°ƒã€‚
        2. èµ„æ ¼ç¡®è®¤ï¼šç¡®è®¤æ½œåœ¨å®¢æˆ·æ˜¯å¦æ˜¯åˆé€‚çš„äººé€‰ï¼Œç¡®ä¿ä»–ä»¬æœ‰è´­ä¹°å†³ç­–æƒã€‚
        3. ä»·å€¼ä¸»å¼ ï¼šç®€è¦è§£é‡Šäº§å“/æœåŠ¡å¦‚ä½•ä½¿æ½œåœ¨å®¢æˆ·å—ç›Šï¼Œçªå‡ºç‹¬ç‰¹å–ç‚¹ã€‚
        4. éœ€æ±‚åˆ†æï¼šé€šè¿‡å¼€æ”¾å¼é—®é¢˜äº†è§£æ½œåœ¨å®¢æˆ·çš„éœ€æ±‚å’Œç—›ç‚¹ã€‚
        5. è§£å†³æ–¹æ¡ˆå±•ç¤ºï¼šåŸºäºæ½œåœ¨å®¢æˆ·çš„éœ€æ±‚ï¼Œå±•ç¤ºäº§å“/æœåŠ¡ä½œä¸ºè§£å†³æ–¹æ¡ˆã€‚
        6. å¼‚è®®å¤„ç†ï¼šå¤„ç†æ½œåœ¨å®¢æˆ·å¯¹äº§å“/æœåŠ¡çš„ä»»ä½•å¼‚è®®ï¼Œæä¾›è¯æ®æ”¯æŒã€‚
        7. æˆäº¤ï¼šé€šè¿‡æè®®ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ¥è¦æ±‚é”€å”®ï¼Œå¦‚æ¼”ç¤ºã€è¯•ç”¨æˆ–ä¸å†³ç­–è€…ä¼šé¢ã€‚

        åªå›ç­”1åˆ°7ä¹‹é—´çš„æ•°å­—ï¼Œè¡¨ç¤ºå¯¹è¯åº”è¯¥ç»§ç»­çš„é˜¶æ®µã€‚ç­”æ¡ˆå¿…é¡»åªæ˜¯ä¸€ä¸ªæ•°å­—ï¼Œä¸è¦æ·»åŠ ä»»ä½•å…¶ä»–å†…å®¹ã€‚
        å¦‚æœæ²¡æœ‰å¯¹è¯å†å²ï¼Œè¾“å‡º1ã€‚
        ä¸è¦å›ç­”å…¶ä»–ä»»ä½•å†…å®¹ã€‚'''

        self.prompter = ChatPrompter(instruction=stage_analyzer_prompt)
        self.llm = llm.share(prompt=self.prompter).used_by(self._module_id)

    def forward(self, conversation_history: str) -> str:
        '''åˆ†æå¯¹è¯å†å²å¹¶è¿”å›å½“å‰åº”è¯¥å¤„äºçš„é”€å”®é˜¶æ®µ'''
        response = self.llm({'conversation_history': conversation_history})
        stage_id = ''.join(filter(str.isdigit, response.strip()))
        if not stage_id or int(stage_id) not in range(1, 8):
            stage_id = '1'  # é»˜è®¤è¿”å›ä»‹ç»é˜¶æ®µ

        if self.verbose:
            print(f'å¯¹è¯é˜¶æ®µåˆ†æç»“æœ: {stage_id} - {self.conversation_stages[stage_id]}')

        return stage_id


class SalesConversationAgent(ModuleBase):
    '''é”€å”®å¯¹è¯ä»£ç†ï¼Œæ ¹æ®å½“å‰é˜¶æ®µç”Ÿæˆç›¸åº”çš„å›å¤'''

    def __init__(self, llm: ModuleBase, verbose: bool = True):
        super().__init__()
        self.verbose = verbose

        # é”€å”®å¯¹è¯æç¤ºæ¨¡æ¿
        sales_conversation_prompt = '''ä½ å«{salesperson_name}ï¼Œæ˜¯ä¸€å{salesperson_role}ã€‚
        ä½ åœ¨{salesperson_name}å…¬å¸å·¥ä½œã€‚{company_name}çš„ä¸šåŠ¡æ˜¯ï¼š{company_business}
        å…¬å¸ä»·å€¼è§‚æ˜¯ï¼š{company_values}
        ä½ è”ç³»æ½œåœ¨å®¢æˆ·çš„ç›®çš„æ˜¯ï¼š{conversation_purpose}
        ä½ è”ç³»æ½œåœ¨å®¢æˆ·çš„æ–¹å¼æ˜¯ï¼š{conversation_type}

        å¦‚æœè¢«é—®åŠä»å“ªé‡Œè·å¾—ç”¨æˆ·çš„è”ç³»ä¿¡æ¯ï¼Œè¯·è¯´ä»å…¬å¼€è®°å½•ä¸­è·å¾—ã€‚
        ä¿æŒå›å¤ç®€çŸ­ä»¥ä¿æŒç”¨æˆ·çš„æ³¨æ„åŠ›ã€‚ä¸è¦äº§ç”Ÿåˆ—è¡¨ï¼Œåªå›ç­”é—®é¢˜ã€‚
        ä½ å¿…é¡»æ ¹æ®ä¹‹å‰çš„å¯¹è¯å†å²å’Œå½“å‰å¯¹è¯é˜¶æ®µæ¥å›åº”ã€‚
        æ¯æ¬¡åªç”Ÿæˆä¸€ä¸ªå›å¤ï¼ç”Ÿæˆå®Œæˆåï¼Œä»¥'<END_OF_TURN>'ç»“å°¾ï¼Œç»™ç”¨æˆ·å›åº”çš„æœºä¼šã€‚

        å½“å‰å¯¹è¯é˜¶æ®µï¼š{conversation_stage}
        å¯¹è¯å†å²ï¼š
        {conversation_history}
        {salesperson_name}ï¼š'''

        self.prompter = ChatPrompter(instruction=sales_conversation_prompt)
        self.llm = llm.share(prompt=self.prompter).used_by(self._module_id)

    def forward(self, salesperson_name: str, salesperson_role: str, company_name: str,
                company_business: str, company_values: str, conversation_purpose: str,
                conversation_type: str, conversation_stage: str, conversation_history: str) -> str:
        '''ç”Ÿæˆé”€å”®å¯¹è¯å›å¤'''
        response = self.llm({
            'salesperson_name': salesperson_name,
            'salesperson_role': salesperson_role,
            'company_name': company_name,
            'company_business': company_business,
            'company_values': company_values,
            'conversation_purpose': conversation_purpose,
            'conversation_type': conversation_type,
            'conversation_stage': conversation_stage,
            'conversation_history': conversation_history
        })

        display_response = response.replace('<END_OF_TURN>', '').strip()
        if self.verbose:
            print(f'{salesperson_name}: {display_response}')

        return response


class SalesGPT(ModuleBase):
    '''ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„AIé”€å”®åŠ©æ‰‹ä¸»æ§åˆ¶å™¨'''

    def __init__(
        self,
        llm: ModuleBase,
        salesperson_name: str = 'å¼ é”€å”®',
        salesperson_role: str = 'ä¸šåŠ¡å‘å±•ä»£è¡¨',
        company_name: str = 'ä¼˜è´¨ç¡çœ ',
        company_business: str = 'ä¼˜è´¨ç¡çœ æ˜¯ä¸€å®¶é«˜ç«¯åºŠå«å…¬å¸...',
        company_values: str = 'ä¼˜è´¨ç¡çœ çš„ä½¿å‘½æ˜¯é€šè¿‡æä¾›æœ€ä½³çš„ç¡çœ è§£å†³æ–¹æ¡ˆ...',
        conversation_purpose: str = 'äº†è§£ä»–ä»¬æ˜¯å¦å¸Œæœ›é€šè¿‡è´­ä¹°é«˜ç«¯åºŠå«æ¥æ”¹å–„ç¡çœ è´¨é‡ã€‚',
        conversation_type: str = 'ç”µè¯',
        verbose: bool = True
    ):
        super().__init__()

        # è®¾ç½®é”€å”®äººå‘˜ä¿¡æ¯
        self.salesperson_name = salesperson_name
        self.salesperson_role = salesperson_role
        self.company_name = company_name
        self.company_business = company_business
        self.company_values = company_values
        self.conversation_purpose = conversation_purpose
        self.conversation_type = conversation_type
        self.verbose = verbose

        # åˆå§‹åŒ–çŠ¶æ€
        self.conversation_history = []
        self.current_conversation_stage = '1'

        # åˆå§‹åŒ–ç»„ä»¶
        self.stage_analyzer = SalesStageAnalyzer(llm, verbose=verbose)
        self.sales_conversation_agent = SalesConversationAgent(llm, verbose=verbose)

        # å¯¹è¯é˜¶æ®µå®šä¹‰
        self.conversation_stages = {
            '1': 'ä»‹ç»é˜¶æ®µï¼šå¼€å§‹å¯¹è¯ï¼Œä»‹ç»è‡ªå·±å’Œå…¬å¸ã€‚ä¿æŒç¤¼è²Œå’Œä¸“ä¸šçš„è¯­è°ƒã€‚',
            '2': 'èµ„æ ¼ç¡®è®¤ï¼šç¡®è®¤æ½œåœ¨å®¢æˆ·æ˜¯å¦æ˜¯åˆé€‚çš„äººé€‰ï¼Œç¡®ä¿ä»–ä»¬æœ‰è´­ä¹°å†³ç­–æƒã€‚',
            '3': 'ä»·å€¼ä¸»å¼ ï¼šç®€è¦è§£é‡Šäº§å“/æœåŠ¡å¦‚ä½•ä½¿æ½œåœ¨å®¢æˆ·å—ç›Šï¼Œçªå‡ºç‹¬ç‰¹å–ç‚¹ã€‚',
            '4': 'éœ€æ±‚åˆ†æï¼šé€šè¿‡å¼€æ”¾å¼é—®é¢˜äº†è§£æ½œåœ¨å®¢æˆ·çš„éœ€æ±‚å’Œç—›ç‚¹ã€‚',
            '5': 'è§£å†³æ–¹æ¡ˆå±•ç¤ºï¼šåŸºäºæ½œåœ¨å®¢æˆ·çš„éœ€æ±‚ï¼Œå±•ç¤ºäº§å“/æœåŠ¡ä½œä¸ºè§£å†³æ–¹æ¡ˆã€‚',
            '6': 'å¼‚è®®å¤„ç†ï¼šå¤„ç†æ½œåœ¨å®¢æˆ·å¯¹äº§å“/æœåŠ¡çš„ä»»ä½•å¼‚è®®ï¼Œæä¾›è¯æ®æ”¯æŒã€‚',
            '7': 'æˆäº¤ï¼šé€šè¿‡æè®®ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ¥è¦æ±‚é”€å”®ï¼Œå¦‚æ¼”ç¤ºã€è¯•ç”¨æˆ–ä¸å†³ç­–è€…ä¼šé¢ã€‚'
        }

    def seed_agent(self):
        '''åˆå§‹åŒ–é”€å”®ä»£ç†'''
        if self.verbose:
            print(f'{self.salesperson_name}: (ç­‰å¾…ç”¨æˆ·è¾“å…¥...)')

    def determine_conversation_stage(self):
        '''ç¡®å®šå½“å‰å¯¹è¯åº”è¯¥å¤„äºçš„é˜¶æ®µ'''
        conversation_text = '\n'.join(self.conversation_history)
        self.current_conversation_stage = self.stage_analyzer(conversation_text)
        if self.verbose:
            print(f'å½“å‰å¯¹è¯é˜¶æ®µ: {self.conversation_stages[self.current_conversation_stage]}')

    def human_step(self, human_input: str):
        '''å¤„ç†äººç±»è¾“å…¥'''
        human_input = human_input + '<END_OF_TURN>'
        self.conversation_history.append(human_input)
        if self.verbose:
            print(f'ç”¨æˆ·: {human_input.replace("<END_OF_TURN>", "")}')

    def step(self):
        '''æ‰§è¡Œé”€å”®ä»£ç†çš„ä¸€æ­¥å¯¹è¯'''
        conversation_text = '\n'.join(self.conversation_history)

        ai_message = self.sales_conversation_agent(
            salesperson_name=self.salesperson_name,
            salesperson_role=self.salesperson_role,
            company_name=self.company_name,
            company_business=self.company_business,
            company_values=self.company_values,
            conversation_purpose=self.conversation_purpose,
            conversation_type=self.conversation_type,
            conversation_stage=self.conversation_stages[self.current_conversation_stage],
            conversation_history=conversation_text
        )

        self.conversation_history.append(ai_message)
        return ai_message.replace('<END_OF_TURN>', '')


def main():
    '''ä¸»å‡½æ•°ï¼šæ¼”ç¤ºSalesGPTçš„ä½¿ç”¨'''
    print('=== ä¸Šä¸‹æ–‡æ„ŸçŸ¥AIé”€å”®åŠ©æ‰‹æ¼”ç¤º ===\n')

    # è®¾ç½®LLM
    llm = OnlineChatModule()

    # é…ç½®é”€å”®ä»£ç†
    config = {
        'salesperson_name': 'æé”€å”®',
        'salesperson_role': 'ä¸šåŠ¡å‘å±•ä»£è¡¨',
        'company_name': 'ä¼˜è´¨ç¡çœ ',
        'company_business': 'ä¼˜è´¨ç¡çœ æ˜¯ä¸€å®¶é«˜ç«¯åºŠå«å…¬å¸ï¼Œä¸ºå®¢æˆ·æä¾›æœ€èˆ’é€‚å’Œæ”¯æ’‘æ€§çš„ç¡çœ ä½“éªŒã€‚',
        'company_values': 'ä¼˜è´¨ç¡çœ çš„ä½¿å‘½æ˜¯é€šè¿‡æä¾›æœ€ä½³çš„ç¡çœ è§£å†³æ–¹æ¡ˆæ¥å¸®åŠ©äººä»¬è·å¾—æ›´å¥½çš„ç¡çœ ã€‚',
        'conversation_purpose': 'äº†è§£ä»–ä»¬æ˜¯å¦å¸Œæœ›é€šè¿‡è´­ä¹°é«˜ç«¯åºŠå«æ¥æ”¹å–„ç¡çœ è´¨é‡ã€‚',
        'conversation_type': 'ç”µè¯'
    }

    # åˆ›å»ºé”€å”®ä»£ç†
    sales_agent = SalesGPT(llm, **config)

    # åˆå§‹åŒ–ä»£ç†
    print('åˆå§‹åŒ–é”€å”®ä»£ç†...')
    sales_agent.seed_agent()
    sales_agent.determine_conversation_stage()

    # å¼€å§‹å¯¹è¯å¾ªç¯
    print('\nå¼€å§‹é”€å”®å¯¹è¯...')
    while True:
        sales_agent.step()
        user_input = input('\nè¯·è¾“å…¥æ‚¨çš„å›å¤ (è¾“å…¥ \'quit\' é€€å‡º): ')
        if user_input.lower() == 'quit':
            print('å¯¹è¯ç»“æŸï¼Œæ„Ÿè°¢ä½¿ç”¨ï¼')
            break
        sales_agent.human_step(user_input)
        sales_agent.determine_conversation_stage()

if __name__ == '__main__':
    main()
```
</details>

## æ•ˆæœå±•ç¤º

ä¸‹é¢æˆ‘ä»¬å°†å±•ç¤ºä¸€ä¸‹ `SalesGPT` çš„å®é™…è¿è¡Œæ•ˆæœã€‚

```bash
=== ä¸Šä¸‹æ–‡æ„ŸçŸ¥AIé”€å”®åŠ©æ‰‹æ¼”ç¤º ===

åˆå§‹åŒ–é”€å”®ä»£ç†...
æé”€å”®: (ç­‰å¾…ç”¨æˆ·è¾“å…¥...)
å¯¹è¯é˜¶æ®µåˆ†æç»“æœ: 1 - ä»‹ç»é˜¶æ®µï¼šå¼€å§‹å¯¹è¯ï¼Œä»‹ç»è‡ªå·±å’Œå…¬å¸ã€‚ä¿æŒç¤¼è²Œå’Œä¸“ä¸šçš„è¯­è°ƒã€‚
å½“å‰å¯¹è¯é˜¶æ®µ: ä»‹ç»é˜¶æ®µï¼šå¼€å§‹å¯¹è¯ï¼Œä»‹ç»è‡ªå·±å’Œå…¬å¸ã€‚ä¿æŒç¤¼è²Œå’Œä¸“ä¸šçš„è¯­è°ƒã€‚ä½ çš„é—®å€™åº”è¯¥æ˜¯æ¬¢è¿çš„ã€‚å§‹ç»ˆåœ¨é—®å€™ä¸­æ˜ç¡®è¯´æ˜è”ç³»æ½œåœ¨å®¢æˆ·çš„åŸå› ã€‚

å¼€å§‹é”€å”®å¯¹è¯...
æé”€å”®: æ‚¨å¥½ï¼æˆ‘æ˜¯æé”€å”®ï¼Œæ¥è‡ªä¼˜è´¨ç¡çœ å…¬å¸ã€‚æˆ‘ä»¬ä¸“æ³¨äºæä¾›é«˜ç«¯åºŠå«å’Œç¡çœ è§£å†³æ–¹æ¡ˆï¼Œå¸®åŠ©äººä»¬æ”¹å–„ç¡çœ è´¨é‡ã€‚è¯·é—®æ‚¨æœ€è¿‘æ˜¯å¦åœ¨å¯»æ‰¾æå‡ç¡çœ ä½“éªŒçš„æ–¹æ³•å‘¢ï¼Ÿ

è¯·è¾“å…¥æ‚¨çš„å›å¤ (è¾“å…¥ 'quit' é€€å‡º): æ˜¯
ç”¨æˆ·: æ˜¯
å¯¹è¯é˜¶æ®µåˆ†æç»“æœ: 4 - éœ€æ±‚åˆ†æï¼šé€šè¿‡å¼€æ”¾å¼é—®é¢˜äº†è§£æ½œåœ¨å®¢æˆ·çš„éœ€æ±‚å’Œç—›ç‚¹ã€‚
å½“å‰å¯¹è¯é˜¶æ®µ: éœ€æ±‚åˆ†æï¼šé€šè¿‡å¼€æ”¾å¼é—®é¢˜äº†è§£æ½œåœ¨å®¢æˆ·çš„éœ€æ±‚å’Œç—›ç‚¹ã€‚ä»”ç»†å€¾å¬ä»–ä»¬çš„å›åº”å¹¶åšç¬”è®°ã€‚
æé”€å”®: å¤ªå¥½äº†ï¼Œå¾ˆé«˜å…´å¬åˆ°æ‚¨å¯¹æ”¹å–„ç¡çœ ä½“éªŒæ„Ÿå…´è¶£ã€‚è¯·é—®æ‚¨ç›®å‰ä¸»è¦é¢ä¸´å“ªäº›ç¡çœ é—®é¢˜ï¼Œæˆ–è€…æ‚¨å¸Œæœ›åœ¨ç¡çœ ä½“éªŒä¸Šæœ‰å“ªäº›å…·ä½“çš„æå‡å‘¢ï¼Ÿ

è¯·è¾“å…¥æ‚¨çš„å›å¤ (è¾“å…¥ 'quit' é€€å‡º): æ™šä¸Šç¡ä¸å¥½ï¼Œå®¹æ˜“å¤±çœ 
ç”¨æˆ·: æ™šä¸Šç¡ä¸å¥½ï¼Œå®¹æ˜“å¤±çœ 
å¯¹è¯é˜¶æ®µåˆ†æç»“æœ: 4 - éœ€æ±‚åˆ†æï¼šé€šè¿‡å¼€æ”¾å¼é—®é¢˜äº†è§£æ½œåœ¨å®¢æˆ·çš„éœ€æ±‚å’Œç—›ç‚¹ã€‚
å½“å‰å¯¹è¯é˜¶æ®µ: éœ€æ±‚åˆ†æï¼šé€šè¿‡å¼€æ”¾å¼é—®é¢˜äº†è§£æ½œåœ¨å®¢æˆ·çš„éœ€æ±‚å’Œç—›ç‚¹ã€‚ä»”ç»†å€¾å¬ä»–ä»¬çš„å›åº”å¹¶åšç¬”è®°ã€‚
æé”€å”®: æˆ‘æ˜ç™½äº†ï¼Œæ™šä¸Šç¡ä¸å¥½å’Œå®¹æ˜“å¤±çœ ç¡®å®å¾ˆå½±å“ç”Ÿæ´»è´¨é‡ã€‚æ‚¨æ˜¯å¦å°è¯•è¿‡ä½¿ç”¨æŸäº›ç‰¹æ®Šæè´¨çš„åºŠå«æˆ–æ•å¤´æ¥æ”¹å–„è¿™ç§æƒ…å†µå‘¢ï¼Ÿ

è¯·è¾“å…¥æ‚¨çš„å›å¤ (è¾“å…¥ 'quit' é€€å‡º): è¿˜æ²¡æœ‰
ç”¨æˆ·: è¿˜æ²¡æœ‰
å¯¹è¯é˜¶æ®µåˆ†æç»“æœ: 3 - ä»·å€¼ä¸»å¼ ï¼šç®€è¦è§£é‡Šäº§å“/æœåŠ¡å¦‚ä½•ä½¿æ½œåœ¨å®¢æˆ·å—ç›Šï¼Œçªå‡ºç‹¬ç‰¹å–ç‚¹ã€‚
å½“å‰å¯¹è¯é˜¶æ®µ: ä»·å€¼ä¸»å¼ ï¼šç®€è¦è§£é‡Šäº§å“/æœåŠ¡å¦‚ä½•ä½¿æ½œåœ¨å®¢æˆ·å—ç›Šï¼Œçªå‡ºç‹¬ç‰¹å–ç‚¹ã€‚
æé”€å”®: é‚£ä¹ˆï¼Œè®©æˆ‘å‘æ‚¨ä»‹ç»æˆ‘ä»¬çš„äº§å“å¦‚ä½•èƒ½å¤Ÿå¸®åŠ©åˆ°æ‚¨ã€‚æˆ‘ä»¬çš„åºŠå«é‡‡ç”¨å…ˆè¿›ææ–™å’Œè®¾è®¡ï¼Œèƒ½å¤Ÿæ ¹æ®æ‚¨çš„èº«ä½“æä¾›å®šåˆ¶åŒ–çš„æ”¯æ’‘ï¼Œå‡å°‘ç¿»èº«æ¬¡æ•°ï¼Œå¸®åŠ©æ‚¨æ›´å¿«å…¥ç¡å¹¶æ·±åº¦ç¡çœ ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„æ•å¤´é‡‡ç”¨è®°å¿†æ³¡æ²«ï¼Œèƒ½å¤Ÿé€‚åº”æ‚¨çš„å¤´éƒ¨å’Œé¢ˆéƒ¨å½¢çŠ¶ï¼Œè¿›ä¸€æ­¥æé«˜ç¡çœ è´¨é‡ã€‚è¿™äº›äº§å“å·²ç»å¸®åŠ©è®¸å¤šå®¢æˆ·æ˜¾è‘—æ”¹å–„äº†ä»–ä»¬çš„ç¡çœ é—®é¢˜ã€‚æ‚¨æœ‰å…´è¶£äº†è§£æ›´å¤šå—ï¼Ÿ

è¯·è¾“å…¥æ‚¨çš„å›å¤ (è¾“å…¥ 'quit' é€€å‡º): ä»‹ç»ä¸€ä¸‹ä½ ä»¬çš„äº§å“å’Œä»·æ ¼
ç”¨æˆ·: ä»‹ç»ä¸€ä¸‹ä½ ä»¬çš„äº§å“å’Œä»·æ ¼
å¯¹è¯é˜¶æ®µåˆ†æç»“æœ: 5 - è§£å†³æ–¹æ¡ˆå±•ç¤ºï¼šåŸºäºæ½œåœ¨å®¢æˆ·çš„éœ€æ±‚ï¼Œå±•ç¤ºäº§å“/æœåŠ¡ä½œä¸ºè§£å†³æ–¹æ¡ˆã€‚
å½“å‰å¯¹è¯é˜¶æ®µ: è§£å†³æ–¹æ¡ˆå±•ç¤ºï¼šåŸºäºæ½œåœ¨å®¢æˆ·çš„éœ€æ±‚ï¼Œå±•ç¤ºäº§å“/æœåŠ¡ä½œä¸ºè§£å†³æ–¹æ¡ˆã€‚
æé”€å”®: å½“ç„¶å¯ä»¥ã€‚æˆ‘ä»¬çš„äº§å“çº¿åŒ…æ‹¬ä¸‰ç§ä¸»è¦ç³»åˆ—ï¼šç»å…¸ç³»åˆ—ã€è±ªåç³»åˆ—å’Œå®šåˆ¶ç³»åˆ—ã€‚

1. **ç»å…¸ç³»åˆ—**ï¼šé€‚åˆè¿½æ±‚èˆ’é€‚ä¸æ”¯æ’‘çš„å®¢æˆ·ã€‚ä»·æ ¼å¤§çº¦åœ¨5000å…ƒåˆ°10000å…ƒä¹‹é—´ã€‚

2. **è±ªåç³»åˆ—**ï¼šé‡‡ç”¨æ›´é«˜ç«¯çš„ææ–™å’Œå…ˆè¿›æŠ€æœ¯ï¼Œé€‚åˆè¿½æ±‚æè‡´ç¡çœ ä½“éªŒçš„å®¢æˆ·ã€‚ä»·æ ¼å¤§çº¦åœ¨10000å…ƒåˆ°20000å…ƒä¹‹é—´ã€‚

3. **å®šåˆ¶ç³»åˆ—**ï¼šæ ¹æ®æ‚¨çš„å…·ä½“éœ€æ±‚å’Œèº«ä½“çŠ¶å†µé‡èº«å®šåˆ¶ï¼Œæä¾›æœ€ä¸ªæ€§åŒ–çš„ç¡çœ è§£å†³æ–¹æ¡ˆã€‚ä»·æ ¼ä»20000å…ƒèµ·ã€‚

æˆ‘ä»¬çš„åºŠå«å’Œæ•å¤´éƒ½æä¾›ä¸€å®šæœŸé™çš„è´¨ä¿ï¼Œç¡®ä¿æ‚¨èƒ½å¤Ÿå®‰å¿ƒä½¿ç”¨ã€‚å¦‚æœæ‚¨æœ‰å…´è¶£ï¼Œæˆ‘ä»¬å¯ä»¥å®‰æ’ä¸€æ¬¡å…è´¹çš„ç¡çœ å’¨è¯¢ï¼Œä»¥ä¾¿æ›´å¥½åœ°äº†è§£æ‚¨çš„éœ€æ±‚å¹¶æä¾›æ›´å‡†ç¡®çš„æ¨èã€‚æ‚¨è§‰å¾—æ€ä¹ˆæ ·ï¼Ÿ

è¯·è¾“å…¥æ‚¨çš„å›å¤ (è¾“å…¥ 'quit' é€€å‡º): å¤ªè´µäº†
ç”¨æˆ·: å¤ªè´µäº†
å¯¹è¯é˜¶æ®µåˆ†æç»“æœ: 6 - å¼‚è®®å¤„ç†ï¼šå¤„ç†æ½œåœ¨å®¢æˆ·å¯¹äº§å“/æœåŠ¡çš„ä»»ä½•å¼‚è®®ï¼Œæä¾›è¯æ®æ”¯æŒã€‚
å½“å‰å¯¹è¯é˜¶æ®µ: å¼‚è®®å¤„ç†ï¼šå¤„ç†æ½œåœ¨å®¢æˆ·å¯¹äº§å“/æœåŠ¡çš„ä»»ä½•å¼‚è®®ï¼Œå‡†å¤‡æä¾›è¯æ®æˆ–æ¨èä¿¡æ”¯æŒä½ çš„è¯´æ³•ã€‚
æé”€å”®: æˆ‘ç†è§£æ‚¨çš„æ‹…å¿§ï¼Œé«˜ç«¯åºŠå«çš„ä»·æ ¼ç¡®å®æ¯”æ™®é€šåºŠå«è¦é«˜ä¸€äº›ã€‚ä½†è€ƒè™‘åˆ°æˆ‘ä»¬çš„äº§å“èƒ½å¤Ÿæ˜¾è‘—æ”¹å–„ç¡çœ è´¨é‡ï¼Œå‡å°‘å¤±çœ é—®é¢˜ï¼Œä»é•¿è¿œæ¥çœ‹ï¼Œè¿™å…¶å®æ˜¯ä¸€é¡¹éå¸¸å€¼å¾—çš„æŠ•èµ„ã€‚ä¼˜è´¨çš„ç¡çœ å¯¹å¥åº·å’Œå·¥ä½œæ•ˆç‡éƒ½æœ‰æå¤§çš„æ­£é¢å½±å“ï¼Œèƒ½å¤Ÿå¸®åŠ©æ‚¨åœ¨æ—¥å¸¸ç”Ÿæ´»å’Œå·¥ä½œä¸­è¡¨ç°å¾—æ›´å¥½ã€‚

æ­¤å¤–ï¼Œæˆ‘ä»¬æä¾›å…è´¹è¯•ç”¨æœŸå’Œè´¨ä¿æœåŠ¡ï¼Œç¡®ä¿æ‚¨å¯¹äº§å“æœ‰å……åˆ†çš„ä½“éªŒå’Œä¿¡å¿ƒã€‚å¦‚æœæ‚¨æ„¿æ„ï¼Œæˆ‘ä»¬å¯ä»¥å®‰æ’ä¸€æ¬¡å…è´¹çš„ç¡çœ å’¨è¯¢ï¼Œä»¥ä¾¿ä¸ºæ‚¨æä¾›æ›´ä¸ªæ€§åŒ–çš„å»ºè®®ã€‚æ‚¨è§‰å¾—å¦‚ä½•ï¼Ÿ

è¯·è¾“å…¥æ‚¨çš„å›å¤ (è¾“å…¥ 'quit' é€€å‡º): å¯ä»¥
ç”¨æˆ·: å¯ä»¥
å¯¹è¯é˜¶æ®µåˆ†æç»“æœ: 7 - æˆäº¤ï¼šé€šè¿‡æè®®ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ¥è¦æ±‚é”€å”®ï¼Œå¦‚æ¼”ç¤ºã€è¯•ç”¨æˆ–ä¸å†³ç­–è€…ä¼šé¢ã€‚
å½“å‰å¯¹è¯é˜¶æ®µ: æˆäº¤ï¼šé€šè¿‡æè®®ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ¥è¦æ±‚é”€å”®ï¼Œå¦‚æ¼”ç¤ºã€è¯•ç”¨æˆ–ä¸å†³ç­–è€…ä¼šé¢ã€‚ç¡®ä¿æ€»ç»“è®¨è®ºå†…å®¹å¹¶é‡ç”³å¥½å¤„ã€‚
æé”€å”®: å¤ªå¥½äº†ï¼Œæˆ‘ä¼šç«‹å³ä¸ºæ‚¨å®‰æ’ä¸€æ¬¡å…è´¹çš„ç¡çœ å’¨è¯¢ã€‚è¯·é—®æ‚¨æœ¬å‘¨å“ªä¸€å¤©æ–¹ä¾¿ï¼Ÿæˆ‘ä»¬å¯ä»¥å®‰æ’ä¸“ä¸šäººå‘˜ä¸æ‚¨è”ç³»ï¼Œè¿›ä¸€æ­¥äº†è§£æ‚¨çš„å…·ä½“éœ€æ±‚å¹¶æä¾›ä¸ªæ€§åŒ–çš„å»ºè®®ã€‚æœŸå¾…å¸®åŠ©æ‚¨æ”¹å–„ç¡çœ è´¨é‡ï¼

è¯·è¾“å…¥æ‚¨çš„å›å¤ (è¾“å…¥ 'quit' é€€å‡º): æ˜å¤©å§
ç”¨æˆ·: æ˜å¤©å§
å¯¹è¯é˜¶æ®µåˆ†æç»“æœ: 7 - æˆäº¤ï¼šé€šè¿‡æè®®ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ¥è¦æ±‚é”€å”®ï¼Œå¦‚æ¼”ç¤ºã€è¯•ç”¨æˆ–ä¸å†³ç­–è€…ä¼šé¢ã€‚
å½“å‰å¯¹è¯é˜¶æ®µ: æˆäº¤ï¼šé€šè¿‡æè®®ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ¥è¦æ±‚é”€å”®ï¼Œå¦‚æ¼”ç¤ºã€è¯•ç”¨æˆ–ä¸å†³ç­–è€…ä¼šé¢ã€‚ç¡®ä¿æ€»ç»“è®¨è®ºå†…å®¹å¹¶é‡ç”³å¥½å¤„ã€‚
æé”€å”®: éå¸¸æ„Ÿè°¢ï¼Œæˆ‘ä¼šä¸ºæ‚¨å®‰æ’æ˜å¤©è¿›è¡Œç¡çœ å’¨è¯¢ã€‚æˆ‘ä»¬çš„ä¸“ä¸šäººå‘˜å°†ä¼šä¸æ‚¨è”ç³»ï¼Œç¡®ä¿æ‚¨èƒ½è·å¾—æœ€åˆé€‚çš„ç¡çœ è§£å†³æ–¹æ¡ˆã€‚å¦‚æœæœ‰ä»»ä½•å…¶ä»–é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œè¯·éšæ—¶å‘Šè¯‰æˆ‘ã€‚ç¥æ‚¨ä»Šæ™šæœ‰ä¸€ä¸ªå¥½æ¢¦ï¼

è¯·è¾“å…¥æ‚¨çš„å›å¤ (è¾“å…¥ 'quit' é€€å‡º): quit
å¯¹è¯ç»“æŸï¼Œæ„Ÿè°¢ä½¿ç”¨ï¼
```

## æ€»ç»“

æœ¬æ•™ç¨‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨LazyLLMæ¡†æ¶æ„å»ºä¸€ä¸ªä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„AIé”€å”®åŠ©æ‰‹ã€‚é€šè¿‡æ¨¡å—åŒ–è®¾è®¡å’Œé˜¶æ®µåŒ–ç®¡ç†ï¼Œç³»ç»Ÿèƒ½å¤Ÿæ¨¡æ‹ŸçœŸå®çš„é”€å”®å¯¹è¯è¿‡ç¨‹ï¼Œä¸ºæ½œåœ¨å®¢æˆ·æä¾›ä¸ªæ€§åŒ–çš„æœåŠ¡ä½“éªŒã€‚

è¿™ç§å®ç°æ–¹å¼ä¸ä»…é€‚ç”¨äºé”€å”®åœºæ™¯ï¼Œä¹Ÿå¯ä»¥æ‰©å±•åˆ°å…¶ä»–éœ€è¦ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„å¯¹è¯ç³»ç»Ÿä¸­ï¼Œå¦‚å®¢æœã€å’¨è¯¢ã€æ•™è‚²ç­‰é¢†åŸŸã€‚
